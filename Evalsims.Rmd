---
title: "Untitled"
output: html_document
date: '2024-01-28'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(data.table)
library(ggplot2)
out <- rbindlist(lapply(c(3), function(shape) {
  data <- fread(paste0("results/sims_calibration_1000_xg_5_0.1_", shape, "_0.6.csv"))
  data$shape <- shape
  data
}))

out <- out[out$method %in% c("cal_binning_5", "mondrian_5", "marginal", "isotonic", "conditional")]
ggplot(out[out$shape == 3], aes(x = bin, y = coverage, color = method)) + geom_point(aes(shape = method), size = 3) + theme_bw()

ggplot(out[out$shape == 3], aes(x = bin, y = width, color = method)) + geom_point(aes(shape = method), size = 3)   + theme_bw()
```



```{r}
library(data.table)
library(ggplot2)

out <- fread(paste0("results/sims_coverage_1000_gam_5_0.1_1_0.2.csv"))

out <- out[out$method %in% c("cal_binning_5", "mondrian_5", "marginal", "isotonic", "conditional")]
ggplot(out , aes(x = bin, y = coverage, color = method)) + geom_point(aes(shape = method), size = 3) + theme_bw()

ggplot(out , aes(x = bin, y = width, color = method)) + geom_point(aes(shape = method), size = 3)   + theme_bw()
```


